var winWidth,winHeight,width,height,$tooltip=$(),$win=$(window);$(document).on({"mouseenter.minetip":function(t){$tooltip.remove();var i=$(this),e=i.attr("data-minetip-title");if(void 0===e&&void 0!==(e=i.attr("title"))&&(e=$.trim(e.replace(/&/g,"\\\\&")),i.attr("data-minetip-title",e)),void 0===e||""!==e&&""===e.replace(/&([0-9a-fl-or])/g,"")){var n,a=i[0];do{a.hasAttribute("title")&&(n=a.title),a=a.firstChild}while(a&&1===a.nodeType);if(void 0===n)return;e||(e=""),e+=$.trim(n.replace(/&/g,"\\&")),i.attr("data-minetip-title",e)}if(i.data("minetip-ready")||(i.find("[title]").addBack().removeAttr("title"),i.data("minetip-ready",!0)),""!==e){var o='<span class="minetip-title">'+e+"&r</span>",d=$.trim(i.attr("data-minetip-text"));for(d&&(o+='<span class="minetip-description">'+(d=d.replace(/\//g,"&#47;")).replace(/\/n/g,"<br>")+"&r</span>");o.search(/&[0-9a-fl-o]/)>-1;)o=o.replace(/&([0-9a-fl-o])(.*?)(&r|$)/g,'<span class="format-$1">$2</span>&r');o=o.replace(/&r/g,""),($tooltip=$('<div id="minetip-tooltip">')).html(o).appendTo("body"),winWidth=$win.width(),winHeight=$win.height(),width=$tooltip.outerWidth(!0),height=$tooltip.outerHeight(!0),i.trigger("mousemove",t)}},"mousemove.minetip":function(t,i){if($tooltip.length){var e=(t=i||t).clientY-34,n=t.clientX+14;n+width>winWidth&&(n-=width+36),n<0?(n=0,(e-=height-22)<0&&(e+=height+47)):e<0?e=0:e+height>winHeight&&(e=winHeight-height),$tooltip.css({top:e,left:n})}else $(this).trigger("mouseenter")},"mouseleave.minetip":function(){$tooltip.length&&($tooltip.remove(),$tooltip=$())}},".minetip, .invslot-item"),function(){var t,i=$(document),e=function(t,i){var e=t.querySelector(i+" > .animated-active");return $(e).removeClass("animated-active"),$(e&&e.nextElementSibling||t.firstElementChild).addClass("animated-active")};void 0!==document.hidden?t="hidden":void 0!==document.msHidden?t="msHidden":void 0!==document.webkitHidden&&(t="webkitHidden"),setInterval(function(){t&&document[t]||i.find(".animated").each(function(){if(!$(this).hasClass("animated-paused")){var t=e(this,".animated");t.hasClass("animated-subframe")&&e(t[0],".animated-subframe")}})},2e3)}(),$.get("assets/mc-html-recipes.json",function(t){var i=t.width/32;$(".inv-sprite").each(function(e,n){var a=(n=$(n)).data("mchr-id"),o=n.data("mchr-item");if(null!=o&&(null!=t.nameIdMap[o]?a=t.nameIdMap[o]:console.log("Item not found: "+o)),null!=a&&null!=a){var d=-a%i*32,r=32*-Math.floor(a/i);n.css("background-position",`${d}px ${r}px`)}})},"json");